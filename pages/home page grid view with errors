//home page coding in flutter
import 'package:flutter/material.dart';
import 'package:flutter_projects/models/catalog.dart';
import 'package:flutter_projects/pages/home_detail_page.dart';
import '../widgets/drawer.dart';
import '../widgets/item_widget.dart';

class HomePage extends StatefulWidget {

  const HomePage({Key? key}) : super(key: key);
  @override
  State<HomePage> createState() => _HomePageState();
}

class _HomePageState extends State<HomePage> {
  final int days = 30;
  //integer type value
  final String name = "Ritvik";

  //string type of value
  @override
  Widget build(BuildContext context) {
    return Scaffold(
        backgroundColor:Colors.white70,
        body:SafeArea(
            child: Container(
              padding:const EdgeInsets.all(32.0),
              child: Column(
                  crossAxisAlignment: CrossAxisAlignment.center,
                  children:[
                    const CatalogHeader(),
                    if (CatalogModel.items.isNotEmpty)
                      const Expanded
                        (
                          child: CatalogGrid()
                      )
                    else
                      const Center(
                        child: CircularProgressIndicator(),
                      )
                  ]

              ),
            )
        )
    );
  }
}


class CatalogGrid extends StatelessWidget {
  const CatalogGrid({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return GridView.builder(
      itemCount: 10,
        shrinkWrap: true,
        gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount
          (
          crossAxisCount:2,
          mainAxisSpacing:16,
          crossAxisSpacing: 16,
        ),
        itemBuilder:(context, index)
        {
          final catalog = CatalogModel.items[index];
          return InkWell(
              onTap: ()=>Navigator.push(
                context,
                MaterialPageRoute(
                  builder: (context)=>HomeDetailPage(
                    catalog: catalog,
                  ),
                ),
              ),
              child: CatalogItem( catalog: catalog)
          );

        }
    );
  }
}

class CatalogItem extends StatelessWidget {
  final Item catalog;
  // ignore: use_key_in_widget_constructors
  const CatalogItem({required this.catalog});


  @override
  Widget build(BuildContext context) {
    return GridTile(
        child:
        Column(
            children:[
              CatalogImage(
                image:catalog.image,
              ),
            ]),
        footer: Container(
            child: Text(
              catalog.name,
              style: const TextStyle(fontWeight: FontWeight.bold),),
            padding: const EdgeInsets.all(4),
            decoration:const BoxDecoration(
              color:Colors.yellow,
            )
        ));
  }
}


class CatalogImage extends StatelessWidget {

  final String image;

  const CatalogImage({super.key, required this.image});
  @override
  Widget build(BuildContext context)
  {
    return Image.asset(image);
  }
}


class CatalogHeader extends StatelessWidget {
  const CatalogHeader({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Column(
        crossAxisAlignment: CrossAxisAlignment.center,
        children:const [
          Text
            (
            "  Let's make you Healthy",
            style: TextStyle
              (
              fontSize: 24,
              fontWeight: FontWeight.bold,
              color: Colors.red,
            ),
          ),
          // Padding(padding:EdgeInsets.all(4.0)),
          Text(" Most common health issues",
            style: TextStyle
              (
              fontWeight:FontWeight.w400,
            ),
          ),
        ]
    );
  }
}
